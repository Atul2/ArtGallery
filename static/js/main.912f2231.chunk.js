(this["webpackJsonpart-gallery"]=this["webpackJsonpart-gallery"]||[]).push([[0],{26:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var c=a(2),n=a(20),r=a.n(n),i=(a(26),a(9)),s=a(10),l=a(16),o=a(12);a(30),a(31);o.a.initializeApp({apiKey:"AIzaSyA_UrbjJqf12-cSVitKQw0s-ugTsPnzi2I",authDomain:"myproject-55f30.firebaseapp.com",projectId:"myproject-55f30",storageBucket:"myproject-55f30.appspot.com",messagingSenderId:"518892027628",appId:"1:518892027628:web:90b8555ea581e070df2fc9",measurementId:"G-EJLTRNS2HS"});var u=o.a.firestore(),j=o.a.storage(),d=o.a.firestore.FieldValue.serverTimestamp,b=function(e){var t=Object(c.useState)([]),a=Object(i.a)(t,2),n=a[0],r=a[1];return Object(c.useEffect)((function(){var t=u.collection(e).orderBy("createdAt","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(l.a)(Object(l.a)({},e.data()),{},{id:e.id}))})),r(t)}));return function(){return t()}}),[e]),{docs:n}},p=a(4),f=function(e){var t=e.setSelectedImage,a=b("artGallery").docs;return console.log(a),Object(p.jsx)("div",{className:"img-grid",children:a&&a.map((function(e){return Object(p.jsx)(s.a.div,{className:"img-wrap",layout:!0,whileHover:{opacity:1},onClick:function(){return t(e.url)},children:Object(p.jsx)(s.a.img,{src:e.url,alt:"uploaded pic",initial:{opacity:0},animate:{opacity:1},transition:{delay:1}})},e.id)}))})},m=function(e){var t=e.selectedImage,a=e.setSelectedImage;return Object(p.jsx)(s.a.div,{className:"backdrop",onClick:function(e){e.target.classList.contains("backdrop")&&a(null)},initial:{opacity:0},animate:{opacity:1},children:Object(p.jsx)(s.a.img,{src:t,alt:"enlarged pic",initial:{y:"-100vh"},animate:{y:0}})})},O=function(){return Object(p.jsxs)("div",{className:"title",children:[Object(p.jsx)("h1",{children:"Art-Gallery( Small Mini Project using Firebase, react hooks, functional components )"}),Object(p.jsx)("h2",{children:Object(p.jsx)("b",{children:"Our Art Gallery"})}),Object(p.jsx)("p",{children:'" The nice thing about the gallery shows is that without having to pay any money you can just go and see it "'})]})},g=a(15),h=a.n(g),y=a(21),v=function(e){var t=Object(c.useState)(0),a=Object(i.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(null),l=Object(i.a)(s,2),o=l[0],b=l[1],p=Object(c.useState)(null),f=Object(i.a)(p,2),m=f[0],O=f[1];return Object(c.useEffect)((function(){var t=j.ref(e.name),a=u.collection("artGallery");t.put(e).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;r(t)}),(function(e){b(e)}),Object(y.a)(h.a.mark((function e(){var c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDownloadURL();case 2:c=e.sent,n=d(),a.add({url:c,createdAt:n}),O(c);case 6:case"end":return e.stop()}}),e)}))))}),[e]),{progress:n,url:m,error:o}},x=function(e){var t=e.file,a=e.setFile,n=v(t),r=n.url,i=n.progress;return console.log(i,r),Object(c.useEffect)((function(){r&&a(null)}),[r,a]),Object(p.jsx)(s.a.div,{className:"progress-bar",initial:{width:0},animate:{width:i+"%"}})},S=function(){var e=Object(c.useState)(null),t=Object(i.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(null),s=Object(i.a)(r,2),l=s[0],o=s[1],u=["image/png","image/jpeg"];return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("form",{children:[Object(p.jsxs)("label",{children:[Object(p.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files[0];t&&u.includes(t.type)?(n(t),o("")):(n(null),o("Please select an image file (png or jpeg)"))}}),Object(p.jsx)("span",{children:"+"})]}),Object(p.jsxs)("div",{className:"output",children:[l&&Object(p.jsx)("div",{className:"error",style:{color:"red"},children:l}),a&&Object(p.jsx)("div",{children:a.name}),a&&Object(p.jsx)(x,{file:a,setFile:n})]})]})})};var w=function(){var e=Object(c.useState)(null),t=Object(i.a)(e,2),a=t[0],n=t[1];return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(O,{}),Object(p.jsx)(S,{}),Object(p.jsx)(f,{setSelectedImage:n}),a&&Object(p.jsx)(m,{selectedImage:a,setSelectedImage:n})]})};r.a.render(Object(p.jsx)(w,{}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.912f2231.chunk.js.map